  Макет = Документы.РасходнаяНакладная.ПолучитьМакет("Печать");
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	РасходнаяНакладная.Дата,
	|	РасходнаяНакладная.Контрагент,
	|	РасходнаяНакладная.Номер,
	|	Товары.Товар,
	|	Товары.Количество,
	|	Товары.Цена,
	|	Товары.Сумма,
	|	ОстаткиТоваров.Стеллаж КАК Стеллаж,
	|	ОстаткиТоваров.Ряд КАК Ряд
	|ИЗ
	|	Документ.РасходнаяНакладная КАК РасходнаяНакладная,
	|	Документ.РасходнаяНакладная.Номенклатура КАК Товары
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваров КАК ОстаткиТоваров
	|		ПО Товары.Товар = ОстаткиТоваров.Товар
	|		И Товары.Ссылка = ОстаткиТоваров.Регистратор
	|ГДЕ
	|	РасходнаяНакладная.Ссылка В (&Ссылка)
	|	
	|ИТОГИ ПО
	|	Товары.Товар
	|";
	Запрос.Параметры.Вставить("Ссылка", Ссылка);
	Выборка = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);

	ОбластьЗаголовок = Макет.ПолучитьОбласть("Заголовок");
	Шапка = Макет.ПолучитьОбласть("Шапка");
	ОбластьНоменклатураШапка = Макет.ПолучитьОбласть("НоменклатураШапка");
	ОбластьНоменклатура = Макет.ПолучитьОбласть("Номенклатура");
	ТабДок.Очистить();

	ВставлятьРазделительСтраниц = Ложь;
	//Обход по документам
	Пока Выборка.Следующий() Цикл
		Если ВставлятьРазделительСтраниц Тогда
			ТабДок.ВывестиГоризонтальныйРазделительСтраниц();
		КонецЕсли;

		ТабДок.Вывести(ОбластьЗаголовок);

		Шапка.Параметры.Заполнить(Выборка);
		ТабДок.Вывести(Шапка, Выборка.Уровень());

		ТабДок.Вывести(ОбластьНоменклатураШапка);
		ВыборкаНоменклатура = Выборка.Выбрать();
		//Обход по номенклатуре
		Пока ВыборкаНоменклатура.Следующий() Цикл
			ОбластьНоменклатура.Параметры.Заполнить(ВыборкаНоменклатура);
			ТабДок.Вывести(ОбластьНоменклатура, ВыборкаНоменклатура.Уровень());
		КонецЦикла;

		ВставлятьРазделительСтраниц = Истина;
	КонецЦикла;
